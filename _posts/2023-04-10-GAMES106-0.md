---
layout: article
title: GAMES106-现代图形绘制流水线原理与实践-0 现代图形绘制流水线导论
tags: ["Computer Graphics", "GAMES106", "Vulkan"]
key: 
aside:
  toc: true
sidebar:
  nav: GAMES106
---

> 本文是GAMES106-现代图形绘制流水线原理与实践([GAMES 106: Intro to Modern Rendering Pipeline](https://zju-rendering.github.io/games106/))的同步课程笔记。这节课程的主要内容是介绍现代绘制流水线的概论和发展历程。
<!--more-->


## 绘制流水线是什么

<div align=center>
<a href="https://imgur.com/vbQcHfA"><img src="https://i.imgur.com/vbQcHfA.png" title="source: imgur.com" /></a>
</div>

绘制流水线是一个抽象的step by step的一个过程，输入几何、纹理、光照等，输出渲染结果。绘制流水线还包含了一套硬件规范，不同的硬件厂商，会做一个工业的流水性的标准去 uild up，然后基于这个标准还有这些过程式的东西，我们再去做一个统一的一个规范化，总结出这一个图形 API 来。

### 可编程流水线
可编程的绘制流水线里面多了一个新的输入，叫做着色器语言，这个着色器的话其实就是用一堆程序代码，他去控制这种或者个性化这个绘制流水线的中间的一些过程，产生更丰富的一些效果。

## 绘制流水线的演进


- **经典绘制流水线**：出于高效图形绘制的需求，首先诞生了GPU去做一个并行话的渲染计算。基本的思路就是，把 GPU 的一个绘制的过程固定下来，做成一个标准化的东西，然后让 CPU 去控制GPU。那 CPU 只要去把这些要处理的数据，还有面片、纹理什么的打包好， GPU 预发，然后 GPU 就按顺序执行了。这个就是最早的一个固定绘制流水线。

- 上世纪，1990 年代，图形学还没有进入消费级市场，在产业界使用更多。主要是在一些高端的图形工作站上去应用。

- SIG处于方便编程的考虑在自己的技术栈基础上做了一些图形API，叫做 IRI SGL。后来这个STG出于扩大影响力的考虑，基于自己的graphic language 就做成了一个开放的标准，推动了一个开放标准的诞生————这个就是最早的 open GL 1.0 版本，诞生于1992年。

- 此时的open GL，并不是完全仅由SGI自己推动的，SGI成立了一个叫 open GL r AR b Architecture review ball 的组织。初始成员包括很多大公司：康博、IBM、Intel、微软、DC，惠普、等等。

- 1993年底就是这个，3D 游戏变得很火爆。SGI的一些工程师的时候就去离开了SGI，去重新创办了一个创业公司，叫3dfx，推出一个3D加速卡，叫做巫毒。在当时技术上相对领先，但是又很封闭，摒弃使用openGL，同时推出了一个叫做Glide的一个图形API，

- Glide图形 API只能用在自己的显卡上，引起了一些图形学界的一些重量级大佬的反对。如约翰卡马克，更希望这个图形学还是有一个规范化公开化的一个标准，让大家可以更好的去促进整个行业的发展，在这个契机下jail quick诞生了。Quick只支持Open GL，而巫毒卡不支持，所以最后雾都卡的处境越发尴尬，就只能够灰溜溜的就在自己的API上面又加了一层来去兼容Open GL。

- 此时再推出对Open GL的支持已经为时已晚，3000 F5X 最后失去了大部分市场，2000年的时候左右就已经被米迪亚收购了。

- 1995 年，微软推出了WX， WX最大的一个问题就是说它只能够用于 Microsoft 的 Windows、Xbox、 Holo Lens，就是等等这些他自己自身生态的一些硬件和软件系统。而且当时的话这个东西它的影响力还没有今天这么大，当时业界的话也不是特别的去重视这个东西。

- 1997 年，它发布到了这个 direct X5. 0 的时候，它就已经包含了很多后发先制，就已经包含很多那个 control 包含的新特效了。那这个时候那个业界才开始反应过来，就是说这个DXD 3D 可能会变成一个真正领先的一个图形API，或者是图形标准，包括一些卡马克这些东西都会。大佬就其实不想看到这种三私有的 3D API 了，所以就会嗯在一些公摊信上面去质疑这个事情等等。

- 2000年左右，direct 3D 8. 0率先去推出了可编程绘制流水线，去支撑了这个可编程的这个可定制化的这个绘制。

- 2002 年，微软推出了高级图形编程语言HLSL，可编程的绘制整个画面效果就会有一个颠覆性的变化。

- 此时的open GL 已经全面落后，直到 2004 年就才推出了自己的一个编程语言，真正比 DX3D 去晚了两年。

- 2006年的时候，ARb官方组织就把整个的控制权交给了一个新的一个， Norris CRO Cronnose 的这个组织。 Cronnose 这个组织其实也是一个由很多大公司组成的一个标规范化的一个组织，它也是非营利的。后来去发布了一个叫做 open GLES 的东西，这部分 GLES 就是完全面向那个嵌入端，就是手机端的一个图形开发。然后这个东西就终于为这个 open GL 搬回一些颜面，因为微软在这个移动端并没有很强的一个控制力，所以中国分之一 s 就沿用了十几二十年，一直是作为这个手机端开发的一个很重要的跨平台的 API 标准，被整个 O N G 1 家族去换了第二春，然后到了这个第三个阶段，大概是到了，嗯， 06 年其实这个阶段其实你看到这个技术的更新迭代非常快，我们这个来到了 open Q23. 0 的时代，这个或者是 DX 10 这里面比较重要的一个标准。

- 几何着色器的推出


- Open CL的推出想做的是一个跨平台的通用的并行编程的一个开放标准。这个东西也他不仅仅，其实他当时的野心非常大，他不仅仅是想去做这个 GPU 上的一个并行开发，做一个通用开发，他还想去跨做一些 GPU 的并行。然后 cell 类型的并行，还有甚至是一些第四批的并行，想在所有的跨平台上面去做都做这个事情，而且它在实际上也产生了一定的影响。

- Web GL和WebGPU

- Vulkan和DX12的推出

### 当前状况

- Vulkan、DX12和metal


## 未来发展方向

- AI 对这个绘制流水线，还有整个绘制流程的一些推动，其中就包括一些常见的应用，像插针，还有像DOS，还有像采样、摩托卡洛材料、摩托卡洛降噪，还有一些做超分，把一个低分配的物体变成高更高分，这些都是一些很重要的应用。



